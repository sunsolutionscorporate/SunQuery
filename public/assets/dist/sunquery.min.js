!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(globalThis):"function"==typeof define&&define.amd?define([],()=>t(globalThis)):"object"==typeof exports?exports.default=t(globalThis):e.sunQuery=t(e),new function(){console.log;const e=function(e,t){let r=n.helper.expando.get(e,"eventCtr");if(r)return!r.event[t.type]&&(r.event[t.type]=[]),r.event[t.type].push({handler:t.fn,id:t.id,bind:t.bind}),r.ctrl.signal;{class r{ctrl=new AbortController;event={};constructor(e){this.event[e.type]=[{handler:e.fn,id:e.id,bind:e.bind}]}}const a=new r(t);return n.helper.expando.set(e,"eventCtr",a),a.ctrl.signal}},t={element:Element.prototype.addEventListener,window:Window.prototype.addEventListener,document:Document.prototype.addEventListener};function r(r,n,a){const o={...a},s=o._contextOwner??this;return!1!==o.useContextSignal&&(o.bind&&(o.signal=e(o.bind.target,{type:r,fn:n,id:a?.id,bind:{id:o.bind.id,target:s}})),o.signal=e(s,{type:r,fn:n,id:a?.id,bind:o.bind})),this instanceof Element?t.element.call(this,r,n,o):this instanceof Window?t.window.call(this,r,n,o):this instanceof Document?t.document.call(this,r,n,o):void console.warn("[‚ö†Ô∏è Warning] 'addEventListener' dipanggil dari objek tidak dikenal:",this)}Element.prototype.custom_addEventListener=r,Window.prototype.custom_addEventListener=r,Document.prototype.custom_addEventListener=r;let a=0;Element.prototype.bindEvent=function(e,t,...r){let n,o=null,s={};"string"==typeof r[0]?(o=r[0],n=r[1],s=r[2]||{}):(n=r[0],s=r[1]||{});const i={...s,_contextOwner:this},l=o?function(e){const t=e.target.closest(o);t&&this.contains(t)&&(e.delegateTarget=t,n.call(t,e))}:n;return i.useContextSignal,"string"==typeof e&&0===(e=document.querySelectorAll(e)).length?(console.warn(`[bindEvent] Selector "${e}" tidak menghasilkan elemen.`),this):(e instanceof NodeList||Array.isArray(e)?e.forEach(r=>{a++,r.addEventListener(t,l,{...i,bind:{id:a,target:e}})}):e?.addEventListener?(a++,e.addEventListener(t,l,{...i,bind:{id:a,target:e}})):console.warn("[bind] Target tidak valid untuk bind:",e),this)}},new function(){const e=Element.prototype.remove,t=function(){const t=new CustomEvent("beforeRemove",{cancelable:!0});if(this.dispatchEvent(t),t.defaultPrevented)return console.warn("[‚ùå Batal] Penghapusan dibatalkan oleh beforeRemove.");e.call(this),this.dispatchEvent(new CustomEvent("afterRemove"));const r=q.helper.expando.get(this,"eventCtr");r?.ctrl&&r.ctrl.abort(),q.helper.expando.remove(this)};Element.prototype.remove=function(){t.call(this)}}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:this,function(e){"use strict";if(!e.document)throw new Error("sunQuery requires a window with a document");class t extends Error{constructor(e,t="error"){e.length>1&&"string"==typeof e[0]?(super(e[0]),this.head=e[0],e.shift()):(super(""),this.head=""),this.message=e,this.level=t,this.name="CustomError"}logger(){if(this.head){const e="warn"===this.level?"color:orange":"info"===this.level?"color:green":"color:red";console.log(`%c${this.head}`,e,"\n",...this.message)}else console.log(...this.message)}}function r(...e){if(!(this instanceof r))return new r(...e);this.data=1,r.info(...e)}r.info=function(...e){try{throw new t(e,"info")}catch(e){e.logger()}},r.warn=function(...e){try{throw new t(e,"warn")}catch(e){e.logger()}},r.error=function(...e){try{throw new t(e,"error")}catch(e){e.logger()}};const n=console.warn;class a extends EventTarget{constructor(){super()}static result=function(e){if(l.helper.type(e.detail))for(const t in e.detail)this[t]=e.detail[t];this.target=e.target,this.timeStamp=e.timeStamp,this.type=e.type};addEventListener(e,t,r){const n=e=>t.call(this,new a.result(e));this._wrappedListeners||(this._wrappedListeners=new WeakMap),this._wrappedListeners.set(t,n),super.addEventListener(e,n,r)}removeEventListener(e,t,r){this._wrappedListeners&&this._wrappedListeners.has(t)&&(super.removeEventListener(e,this._wrappedListeners.get(t),r),this._wrappedListeners.delete(t))}static trigger(e,t,r){if("string"==typeof t)if(r){const n=new CustomEvent(t,{bubbles:!0,detail:r});e.dispatchEvent(n)}else{const r=new Event(t,{bubbles:!0});e.dispatchEvent(r)}}}const o=document,s="no-use",i={config:{observer:!1,instanceMethod:!1,formCostum:!1,router:!1,platform:!1,maxDeferredPerInstance:20,coalesceDeferredCalls:!0,maxDeferredCallsPerTick:200,maxDeferredStaticCalls:200,coalesceDeferredStaticCalls:!0,flag:!1,_deferred:{deferredInstancesList:null,deferredStaticQueue:null}},resolve:null,promise:null,promiseResolved:null,typeNameMap:{}},l=function(){i.promise=new Promise(e=>i.resolve=e);const e=function(t){const n=new e.fn.init(t);n._deferredQueue=n._deferredQueue||[],n._deferredEnqueued=n._deferredEnqueued||!1;return new Proxy(n,{get(t,n,a){const o=Reflect.get(t,n,a);return"length"===n?o:o?o===s?(r.warn(`[‚öôÔ∏èsunQuery] instanceMethods '${n}'`,"tidak diaktifkan pada Konfigurasi\nhttps://github.com/SUN-solutions2025/sunQuery-Framework"),function(){return this}):"function"==typeof o?function(...r){!i.config.instanceMethod||i.promise&&"function"==typeof i.promise.then&&!1!==e._promisePending&&i.config.instanceMethod;if(!i.promiseResolved){t._deferredQueue=t._deferredQueue||[],t._deferredEnqueued||(e._deferredInstances=e._deferredInstances||new WeakSet,e._deferredInstances.add(a),i.config._deferred.deferredInstancesList=i.config._deferred.deferredInstancesList||[],i.config._deferred.deferredInstancesList.push(a),t._deferredEnqueued=!0);const o=i.config?.maxDeferredPerInstance||100,s={prop:n,args:r,receiver:a};if(i.config?.coalesceDeferredCalls&&t._deferredQueue.length){const e=t._deferredQueue[t._deferredQueue.length-1];e.prop===n?"css"===n&&1===r.length&&"object"==typeof r[0]&&e.args?.[0]&&"object"==typeof e.args[0]?e.args[0]={...e.args[0],...r[0]}:t._deferredQueue[t._deferredQueue.length-1]=s:t._deferredQueue.push(s)}else t._deferredQueue.push(s);return t._deferredQueue.length>o&&t._deferredQueue.shift(),a}return o.apply(a,r)}:o:function(...o){if(!i.promiseResolved){t._deferredQueue=t._deferredQueue||[],t._deferredEnqueued||(e._deferredInstances=e._deferredInstances||new WeakSet,e._deferredInstances.add(a),i.config._deferred.deferredInstancesList=i.config._deferred.deferredInstancesList||[],i.config._deferred.deferredInstancesList.push(a),t._deferredEnqueued=!0);const r=i.config?.maxDeferredPerInstance||100,s={prop:n,args:o,receiver:a};if(i.config?.coalesceDeferredCalls&&t._deferredQueue.length){const e=t._deferredQueue[t._deferredQueue.length-1];e.prop===n?"css"===n&&1===o.length&&"object"==typeof o[0]&&e.args?.[0]&&"object"==typeof e.args[0]?e.args[0]={...e.args[0],...o[0]}:t._deferredQueue[t._deferredQueue.length-1]=s:t._deferredQueue.push(s)}else t._deferredQueue.push(s);return t._deferredQueue.length>r&&t._deferredQueue.shift(),a}try{if("string"==typeof n){const e=[Element.prototype,HTMLElement.prototype,Node.prototype,Document.prototype,Window.prototype];for(const t of e)if(t&&n in t)return a}}catch(e){}return r.warn("[‚öôÔ∏èsunQuery] instance",`tidak memiliki property '${n}'`),a}}})},t=["maxDeferredPerInstance","coalesceDeferredCalls","maxDeferredCallsPerTick","maxDeferredStaticCalls","coalesceDeferredStaticCalls","flag","_deferred"];e.fn=e.prototype={constructor:e,pushStack(t){t=(t||[]).filter(Boolean);const r=Object.create(this);for(let e=0;e<this.length;e++)r[e]=this[e];r.length=this.length,r.selector=this.selector;let n=e.helper.merge(new this.constructor,t);for(let e=0;e<this.length;e++)delete this[e];return Object.assign(this,n),this.length=n.length,this},forEach(e){if("function"==typeof e)for(let t=0;t<this.length;t++)e.call(this[t],this[t],t);return this},[Symbol.iterator]:function(){let e=0,t=this;return{next:()=>e<t.length?{value:t[e++],done:!1}:{done:!0}}}},e.fn.init=function(t){if(!t)return;let r=[];if("string"==typeof t)r=o.querySelectorAll(t),Array.prototype.push.apply(this,r),this.selector=t,this.length=r.length;else if(e.helper.type(t,"array")){const r=[];for(let n=0;n<t.length;n++)r.push(e.helper.findElementSelector.list(t[n])),this[n]=t[n];this.selector=r,this.length=t.length}else if(e.helper.type(t,"sunQuery")){this.selector=t.selector;for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}else this[0]=t,this.selector=e.helper.findElementSelector.list(t),this.length=1},e.fn.init.prototype=e.fn,"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach(e=>i.typeNameMap["[object "+e+"]"]=e.toLowerCase()),e.log=r,e.config=async function(e){if(!i.config.flag){i.config.flag=!0;for(const r in e)t.includes(r)&&delete e[r];e?.__std__?delete e.__std__:await new Promise(e=>setTimeout(()=>e(),0)),e.instanceMethod=0!=e?.instanceMethod,e.observer=1==e?.observer,e.formCostum=1==e?.formCostum,i.config={...i.config,...e},i.resolve()}},e.getConfig=async function(){return await i.promise,structuredClone(Object.fromEntries(Object.entries(i.config).filter(([e])=>!t.includes(e))))},e.helper={isJson(e){if("string"!=typeof e)return!1;const t=e.trim();if(!t.startsWith("{")&&!t.startsWith("["))return!1;try{const t=JSON.parse(e);return t&&"object"==typeof t}catch{return!1}},isSymbol:e=>"[object Symbol]"===Object.prototype.toString.call(e),type(t,r=null){const n=function(){if(null===t)return"null";if("object"==typeof t||"function"==typeof t)return"function"==typeof t&&/^class\s/.test(Function.prototype.toString.call(t))?"class":t instanceof e?"sunQuery":t?.nodeType?"html":i.typeNameMap[i.typeNameMap.toString.call(t)]||"object";if(e.helper.isJson(t))return"stringJson";if(e.helper.isSymbol(t))return"symbol";var r=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/.exec(t);return r&&r[1]?"stringHtml":typeof t}();return"string"==typeof r?n===r:n},normalizeSize:e=>({small:"sm",medium:"md",large:"lg",sm:"sm",md:"md",lg:"lg"}[e?.toLowerCase()]||"lg")},e.ready=async function(t){return await i.promise,"loading"===document.readyState&&await new Promise(e=>o.addEventListener("DOMContentLoaded",e,{once:!0})),"function"==typeof t&&t(),e.getConfig},e.EventCustom=function(e,t){let r={bubbles:!1,cancelable:!0};return new class{target(n){n.dispatchEvent(new CustomEvent(e,{...r,detail:t}))}config(e){return r={...r,...e},this}}},e.linePattern=["solid","dashed","dotted","double","groove","ridge","inset","outset"],e.linePattern.forEach(t=>e[t.toUpperCase()]=Symbol(t)),e.positionStyle=["absolute","fixed","relative","static","sticky"],e.positionStyle.forEach((t,r)=>{const n=(r<3?t.slice(0,3):t).toUpperCase();e[n]=Symbol(t)}),async function(){const r=new a;e.addEventListener=(...e)=>r.addEventListener(...e),e.removeEventListener=(...e)=>r.removeEventListener(...e),e.dispatchEvent=(...e)=>r.dispatchEvent(...e),"loading"===document.readyState&&await new Promise(e=>o.addEventListener("DOMContentLoaded",e,{once:!0})),await i.promise,e.EventCustom("afterinit",structuredClone(Object.fromEntries(Object.entries(i.config).filter(([e])=>!t.includes(e))))).target(e),i.promiseResolved=!0}(),async function(){const t=await e.getConfig();class n{#e=null;#t=[];#r=[];#n={orientation:null,device:null,os:"unknown",browser:{type:"unknown",version:"unknown"},touch:null,language:null};#a=null;#o(e,t){let r=null;return function(...n){clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}}#s=this.#o(()=>{for(const e of this.#t)e(this.#n)},300);constructor(e){this.#e=e,this.#n.orientation=this.#i();for(const[t,r]of Object.entries(e)){const e=window.matchMedia(r),n=e=>this.#l(t,e.matches);e.addEventListener("change",n),this.#r.push({mq:e,handler:n,name:t}),e.matches&&(this.#n.device=t)}this.#c()}#c(){this.#d();const e=navigator.userAgent;/windows/i.test(e)?this.#n.os="Windows":/android/i.test(e)?this.#n.os="Android":/linux/i.test(e)?this.#n.os="Linux":/iphone|ipad|ipod/i.test(e)?this.#n.os="iOS":/macintosh|mac os x/i.test(e)&&(this.#n.os="MacOS"),/firefox/i.test(e)?(this.#n.browser.type="Firefox",this.#n.browser.version=e.match(/firefox\/([\d.]+)/i)?.[1]||""):/edg/i.test(e)?(this.#n.browser.type="Edge",this.#n.browser.version=e.match(/edg\/([\d.]+)/i)?.[1]||""):/chrome|crios/i.test(e)?(this.#n.browser.type="Chrome",this.#n.browser.version=e.match(/(?:chrome|crios)\/([\d.]+)/i)?.[1]||""):/safari/i.test(e)?(this.#n.browser.type="Safari",this.#n.browser.version=e.match(/version\/([\d.]+)/i)?.[1]||""):/opera|opr/i.test(e)?(this.#n.browser.type="Opera",this.#n.browser.version=e.match(/(?:opera|opr)\/([\d.]+)/i)?.[1]||""):/msie|trident/i.test(e)&&(this.#n.browser.type="IE",this.#n.browser.version=e.match(/(?:msie |rv:)([\d.]+)/i)?.[1]||""),this.#n.touch="ontouchstart"in window||navigator.maxTouchPoints>0,this.#n.language=navigator.language||navigator.userLanguage}#i(){return window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"}#l(e,t){t&&this.#n.device!==e&&(this.#n.device=e,this.#s())}#d(){const e=window.matchMedia("(orientation: portrait)"),t=e=>{const t=e.matches?"portrait":"landscape";t!==this.#n.orientation&&(this.#n.orientation=t,this.#s())};e.addEventListener("change",t),this.#a={mq:e,handler:t}}watcher(e){"function"==typeof e&&(this.#t.push(e),e(this.#n))}destroy(){for(const{mq:e,handler:t}of this.#r)e.removeEventListener("change",t);this.#a&&this.#a.mq.removeEventListener("change",this.#a.handler),this.#t=[]}}const a={mobile:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1023px)",desktop:"(min-width: 1024px)"};if("boolean"==typeof t.platform)t.platform&&(e.platform=new n(a));else if(e.helper.type(t.platform,"object")){for(const e in t.platform)a[e]&&"string"==typeof t.platform[e]&&(a[e]=t.platform[e]);e.platform=new n(a)}else r.error("[platform] init",`configuration is invalid, use type 'boolean' or 'object' instead of '${e.helper.type(t.platform)}'`);e.platform&&(await e.ready(),e.platform.watcher(e=>{o.body.classList.toggle("mobile","mobile"===e.device),o.body.classList.toggle("tablet","tablet"===e.device),o.body.classList.toggle("desktop","desktop"===e.device),o.body.classList.toggle("landscape","landscape"===e.orientation),o.body.classList.toggle("portrait","portrait"===e.orientation)})),t.router&&async function(){const t={controller_name:null,path:"/",params:{},segments:[]};function r(r){!function(){const e=location.hash.replace(/^#\/?/,"")||"/",[r,n]=e.split("?");if(t.path=r,t.segments=r.split("/").filter(Boolean),t.params={},n)for(const[e,r]of new URLSearchParams(n))t.params[e]=r;t.controller_name=t.segments[0]||""}(),e.EventCustom("routes",{...t}).target(e)}window.addEventListener("hashchange",r),e.router=new function(){this.path=()=>t.path,this.segments=()=>t.segments,this.params=()=>t.params,this.controller=()=>t.controller_name},e.ready(r)}()}(),"loading"===o.readyState&&o.addEventListener("DOMContentLoaded",()=>e.config({__std__:!0}),{once:!0});const n=new WeakMap,l=new WeakMap;function c(t,r,a){let o,s=l.get(t);if(s||(s=new Map,l.set(t,s)),s.has(r))return s.get(r);const d={apply(t,n,s){if(i.promiseResolved)return Reflect.apply(t,n,s);if(!i.promiseResolved){i.config._deferred.deferredStaticQueue=i.config._deferred.deferredStaticQueue||[];const t=i.config?.maxDeferredStaticCalls||200,n={prop:r,args:s,receiver:a||o||e};if(i.config?.coalesceDeferredStaticCalls&&i.config._deferred.deferredStaticQueue.length){const e=i.config._deferred.deferredStaticQueue[i.config._deferred.deferredStaticQueue.length-1];e.prop===r&&e.receiver===n.receiver?i.config._deferred.deferredStaticQueue[i.config._deferred.deferredStaticQueue.length-1]=n:i.config._deferred.deferredStaticQueue.push(n)}else i.config._deferred.deferredStaticQueue.push(n);return i.config._deferred.deferredStaticQueue.length>t&&i.config._deferred.deferredStaticQueue.shift(),n.receiver}return Reflect.apply(t,n,s)},get(e,t,r){if(i.promiseResolved)return Reflect.get(e,t,r);const a=e[t];if("function"==typeof a)return c(a,t,o);if(a&&"object"==typeof a){if(!n.has(a)){const e=new Proxy(a,{get(e,t,r){if(i.promiseResolved)return Reflect.get(e,t,r);const n=e[t];return"function"==typeof n?c(n,t,r||o):n}});n.set(a,e)}return n.get(a)}return a}};return o=new Proxy(t,d),s.set(r,o),o}return new Proxy(e,{get(e,t,r){if("string"==typeof t&&t.startsWith("_"),i.promiseResolved)return Reflect.get(e,t,r);const a=e[t];if("symbol"==typeof t)return a;if("config"===t||"getConfig"===t||"log"===t||"ready"===t||"extend"===t||"helper"===t||"plugin"===t||"observer"===t||"ajax"===t||"fn"===t||"EventCustom"===t||"_promise"===t||"createElement"===t||"createForm"===t||"addEventListener"===t||"EventCustom"===t||"removeEventListener"===t||"qrCode"===t||"PDF"===t||"linePattern"===t||"positionStyle"===t||"trigger"===t)return a;if("function"==typeof a)return c(a,t,r);if(a&&"object"==typeof a){if(!n.has(a)){const e=new Proxy(a,{get(e,t,r){if(i.promiseResolved)return Reflect.get(e,t,r);const n=e[t];return"function"==typeof n?c(n,t,r):n}});n.set(a,e)}return n.get(a)}return a}})}();l.extend=function(e,...t){return t.forEach(t=>{if(t)for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}),e},l.fn.extend=function(e){l.ready(()=>{i.config.instanceMethod||Object.keys(e).forEach(t=>e[t]=s),l.extend(this,e)})},l.extend(l,{async plugin(e,t){const n={form:e=>l.createForm._factory_type(e)};if(!(await l.getConfig()).formCostum&&"form"===e)return;if(!n[e])return void r.error("[plugins] not support",`'${e}' tidak didukung`);const a=l.plugin._obsMonitor();for(const o in t){const s=n[e]?.(o);s?a.define(s.selector,t[o]):r.error(`[plugins] type '${e}'`,`'${o}' bukan termasuk element ${e}`)}return l},RGBColor:function(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6));e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,s=a.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}},LEFT:Symbol("left"),RIGHT:Symbol("right"),TOP:Symbol("top"),BOTTOM:Symbol("bottom"),CENTER:Symbol("center"),MIDDLE:Symbol("middle"),HANGING:Symbol("hanging"),ALPHABETIC:Symbol("alphabetic"),JUSTIFY:Symbol("justify"),AUTO:Symbol("auto"),NONE:Symbol("none"),MAX:Symbol("max")}).extend(l.plugin,{_obsMonitor:()=>(l.plugin.instance||(l.observer("body",{childList:!0,subtree:!0}),l.plugin.instance=new function(){this.maps=[],this.define=function(e,t){this.maps.push({selector:e,fn:t})},l.ready(()=>{o.body.addEventListener("addElement",({detail:e})=>{e.added.forEach(e=>{e.querySelectorAll(this.maps.map(e=>e.selector)).forEach(e=>{const t=this.maps.filter(t=>e.matches(t.selector)).map(t=>t.fn.bind(e))?.[0];let r=l.helper.expando.get(e,"observer");r?.formCustom||(t(),l.helper.expando.set(e,"observer",{formCustom:!0}))})})}),o.querySelectorAll(this.maps.map(e=>e.selector)).forEach(e=>{const t=this.maps.filter(t=>e.matches(t.selector)).map(t=>t.fn.bind(e))?.[0],r=l.helper.expando.get(e,"observer");r?.formCustom||(t(),l.helper.expando.set(e,"observer",{formCustom:!0}))})})}),l.plugin.instance)}),l.extend(l,{createElement(e,t={}){if("string"!=typeof e||!e)return r.error("[createElement] nodeName invalid!"," nodeName must be a string"),null;try{e=e.toLowerCase();if(["input","select","textarea"].includes(e))return this.createForm(e,t);const r=o.createElement(e);for(const e in t){const n=t[e];if("data"===e&&"object"==typeof n&&null!==n)for(const e in n)r.setAttribute("data-"+e,n[e]);else"content"===e||"html"===e?l.helper.type(n,"array")?n.forEach(e=>r.append(e)):l.helper.type(n,"html")?r.append(n):l.helper.type(n,"stringHtml")?r.innerHTML=n:l.helper.type(n,"string")&&(r.textContent=n):"text"===e?r.textContent=n:"string"==typeof n||"number"==typeof n?r.setAttribute(e,String(n).trim()):"boolean"==typeof n&&n&&r.setAttribute(e,"")}return r}catch(e){return r.error("[createElement] failed to create element",e),null}},createForm(e,t={}){const n=l.createForm._type_form[e];if("function"!=typeof n)return r.error("[createForm] invalid type",`type '${e}' not found in mapping`),null;const a=n(e);"textarea"===e&&a.setAttribute("rows","1");const s=Object.keys(t).sort();let i=!1;for(const e of s){const n=t[e],s=a.tagName.toLowerCase();if("select"===s)if("option"===e){if(l.helper.type(n,"array")){const e=document.createDocumentFragment();n.forEach(t=>{const r=l.createElement("option",{value:t.value,text:t.text});t?.selected&&(i=!0,r.selected=!0),e.appendChild(r)}),a.appendChild(e)}}else if("placeholder"===e){let e=a.querySelector('option[value=""]');e?e.textContent=n:(e=o.createElement("option"),e.value="",e.textContent=n,i||(e.selected=!0),a.prepend(e))}else if("value"===e||"selected"===e)a.options.length&&(a.value=n);else if("text"===e)r.warn("[select] does not support 'text' attribute");else if("html"===e||"content"===e)r.warn("[select] does not support html string writing");else if("data"===e&&"object"==typeof n&&null!==n)for(const e in n)a.setAttribute("data-"+e,n[e]);else e in a||void 0!==a.getAttribute(e)?a.setAttribute(e,n):a[e]=n;else if("value"===e)"input"===s||"textarea"===s?a.value=n:a.setAttribute("value",n);else if("data"===e&&"object"==typeof n&&null!==n)for(const e in n)a.setAttribute("data-"+e,n[e]);else"content"===e||"html"===e?a.innerHTML=n:"text"===e?a.textContent=n:e in a||void 0!==a.getAttribute(e)?a.setAttribute(e,n):a[e]=n}return a}}).extend(l.createForm,{_factory_form(e){const t=o.createElement("input");return t.type=e,t},_factory_type(e){if("string"==typeof e){const t=e.toLowerCase();return"select"===t?{tag:"select",type:null,selector:"select"}:"textarea"===t?{tag:"textarea",type:null,selector:"textarea"}:Object.keys(l.createForm._type_form).includes(t)?{tag:"input",type:t,selector:`input[type="${t}"]`}:null}}}),l.extend(l.createForm,{_type_form:{textarea:()=>o.createElement("textarea"),select:()=>o.createElement("select"),checkbox:()=>{const e=o.createElement("input");return e.type="checkbox",e},radio:()=>{const e=o.createElement("input");return e.type="radio",e},hidden:()=>l.createForm._factory_form("hidden"),text:l.createForm._factory_form,password:l.createForm._factory_form,email:l.createForm._factory_form,number:l.createForm._factory_form,datetime:l.createForm._factory_form,datetimeLocal:()=>l.createForm._factory_form("datetime-local"),time:l.createForm._factory_form,color:l.createForm._factory_form,range:l.createForm._factory_form,file:l.createForm._factory_form,hidden:l.createForm._factory_form,submit:l.createForm._factory_form,reset:l.createForm._factory_form,url:l.createForm._factory_form,tel:l.createForm._factory_form,search:l.createForm._factory_form}});const c=new function(){this.methods={required:{fn:e=>""!==e.trim(),msg:"Field ini wajib diisi"}};function e(e,t=0){const r=l.helper.expando.get(e,"error");r&&(r.release(t),l.helper.expando.remove(e,"error"))}this.validate_field=function(e){const t=e.getAttribute("rule")?.split(/[| ]+/).map(e=>e.trim()).filter(Boolean);if(!t)return void(l(e).attr("shadow")?this.showError(e.parentElement,""):this.showError(e,""));const r=e.value.trim();let n="",a=e;for(const a of t){const t=this.methods[a];if(t&&!t.fn(r,e)){n=e.dataset[`msg${a.charAt(0).toUpperCase()+a.slice(1)}`]||t.msg;break}}return l(e).attr("shadow")&&(a=e.parentElement),l.helper.get_attr_element(e,"disabled")||l.helper.get_attr_element(e,"readOnly")||function(e){if(!(e&&e instanceof HTMLElement))return!0;for(;e;){const t=window.getComputedStyle(e),r="none"===t.display||"hidden"===t.visibility||"0"===t.opacity,n=e.hasAttribute("hidden");if(r||n)return!0;e=e.parentElement}return!1}(a)?(this.showError(a,""),!0):(this.showError(a,n),!n)},this.showError=function(t,r){r?(e(t),t.classList.add("error"),l.helper.expando.set(t,"error",q.tooltip({timer:1500,target:t,content:`<p class="err-msg">${r}</p>`}))):(e(t,300),t.classList.remove("error"))},this.validate_form=function(e){let t=!0,r=null;return e.querySelectorAll("[rule]").forEach(e=>{this.validate_field(e)||(t=!1,r||(r=e))}),r&&setTimeout(()=>{const e=l(r).attr("shadow")?r.parentElement:r;e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus?.()},100),t}};return function(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(l.helper[t]=e[t])}({generateUniqueId(e=5){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=t+"0123456789";function n(){let n=t[Math.floor(52*Math.random())];for(let t=1;t<e;t++)n+=r[Math.floor(62*Math.random())];return n}let a;do{a=n()}while(document.getElementById(a));return a},expando:new function(){const e=t=>!t||(Array.isArray(t)?t.every(e):"object"==typeof t&&(0===Object.keys(t).length||Object.values(t).every(e))),t=new WeakMap,r=this.constructor.name;this.set=function(e,a,o){if("string"!=typeof a)return n(`[üìö${r}] 'name' harus berupa 'string' tidak boleh '${l.helper.type(a)}'`),!1;if(!o)return n(`[üìö${r}] 'options' wajib memiliki nilai`),!1;if(e instanceof Element||e instanceof Document){let s=t.get(e);if(s||(s={},t.set(e,s),l.helper.isFormElement(e)&&!e.hasAttribute("id")&&e.setAttribute("id",(()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let r=0;r<5;r++)t+=e[Math.floor(62*Math.random())];return t})())),!s[a])return s[a]=o,!0;if("object"===l.helper.type(s[a])&&"object"===l.helper.type(o)){for(const e in o)s[a][e]=o[e];return!0}return"array"===l.helper.type(s[a])&&"array"===l.helper.type(o)?(o.forEach(e=>{s[a].includes(e)||s[a].push(e)}),!0):"string"===l.helper.type(s[a])&&"string"===l.helper.type(o)?(s[a]=o,!1):(n(`[üìö${r}] gagal menyimpan data!\n'${a}' ber-type '${l.helper.type(s[a])}' tidak dapat ditimpah dengan '${l.helper.type(o)}'`),!1)}return!e instanceof Window?(n(`[üìö${r}] element tidak valid!`),!1):void 0},this.get=function(e,a){if(e instanceof Element||e instanceof Document){const r=t.get(e);return void 0===a?r:r?.[a]}if(!e instanceof Window)return n(`[üìö${r}] element tidak valid!`),!1},this.remove=function(a,o){if(!(a instanceof Element||a instanceof Document))return n(`[üìö${r}] element tidak valid!`),null;if(o){const r=t.get(a);r&&r.hasOwnProperty(o)&&delete r[o],e(r)&&t.delete(a)}else t.delete(a)}},merge(e,t){for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&!isNaN(t)&&delete e[t];let r=t.length||0;for(let n=0;n<r;n++)e[n]=t[n];return e.length=r,e},findScrollParent(e){for(;e&&e!==document.body;){const t=getComputedStyle(e);if(/(auto|scroll)/.test(t.overflowY))return e;e=e.parentElement}return document.body},toHTML(e){if("stringHtml"!==l.helper.type(e))return n(`toHTML: arg[0] tidak boleh ${l.helper.type(e)} isi dengan 'stringHTML'`),[];let t=l.createElement("div"),r=o.createRange().createContextualFragment(e),a=[];return t.append(r),t.remove(),a=Array.from(t.children),a},getVisibleRect(e){if(!(e instanceof Element))return!1;const t=e.getBoundingClientRect();return!!(t.bottom>0&&t.right>0&&t.top<(window.innerHeight||document.documentElement.clientHeight)&&t.left<(window.innerWidth||document.documentElement.clientWidth))&&t},formatHash(e){if(!e)return"#/";let t=e.replace(/^#*/,"");return t.startsWith("/")||(t="/"+t),"#"+t},formatNumber(e,t=0){const r=Number(e);if(isNaN(r))return"0";let n="number"==typeof t?r.toFixed(t):String(r),[a,o]=n.split(".");a=a.replace(/\B(?=(\d{3})+(?!\d))/g,".");const s=o?`${a},${o}`:a;return{[Symbol.toPrimitive]:()=>s,toString:()=>s.toString(),toNumber:()=>Number(r),valueOf:()=>s,origin:()=>r.toString()}},boxify(e){if(!Array.isArray(e))return{top:0,right:0,bottom:0,left:0};switch(e.length){case 1:return{top:e[0],right:e[0],bottom:e[0],left:e[0]};case 2:return{top:e[0],right:e[1],bottom:e[0],left:e[1]};case 3:return{top:e[0],right:e[1],bottom:e[2],left:e[1]};case 4:return{top:e[0],right:e[1],bottom:e[2],left:e[3]};default:return{top:0,right:0,bottom:0,left:0}}},parseColor(e){if(null==e)return null;if(Array.isArray(e)){const[t,r=0,n=0,a=1]=e;if([t,r,n].every(e=>"number"==typeof e&&e>=0&&e<=255)&&"number"==typeof a&&a>=0&&a<=1)return[t,r,n,a]}if("number"==typeof e&&e>=0){const t=Math.min(255,e);return[t,t,t,1]}if("string"==typeof e){const t=e.trim().toLowerCase(),r=t.match(/^#([a-f0-9]{3,4}|[a-f0-9]{6}|[a-f0-9]{8})$/i);if(r){let e=r[1];3!==e.length&&4!==e.length||(e=e.split("").map(e=>e+e).join(""));return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16),8===e.length?parseInt(e.slice(6,8),16)/255:1]}const n=t.match(/^rgba?\(\s*([^)]+)\)$/);if(n){const e=n[1].split(",").map(e=>e.trim());if(e.length>=3){const t=parseInt(e[0]),r=parseInt(e[1]),n=parseInt(e[2]),a=void 0!==e[3]?parseFloat(e[3]):1;if([t,r,n].every(e=>!isNaN(e)&&e>=0&&e<=255)&&a>=0&&a<=1)return[t,r,n,a]}}const a=document.createElement("canvas").getContext("2d");a.fillStyle=t;const o=a.fillStyle;if(o&&o.startsWith("rgb"))return l.helper.parseColor(o)}return null},isImageType:e=>/^image\/[a-z0-9.+-]+$/i.test(e),toCamelCase:e=>e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),toKebabCase:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),toSnakeCase:e=>e.toLowerCase().trim().replace(/\s+/g,"_"),toCapitalize:e=>e.toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),getInitials:(e,t=2)=>"string"!=typeof e?"":e.trim().split(/\s+/).map(e=>e[0].toUpperCase()).slice(0,t).join(""),findElementSelector:new function(){this.node=e=>e?.nodeType?e.localName||e.nodeName:null,this.id=e=>e?.nodeType&&e.id?"#"+e.id:"",this.class=e=>e?.nodeType&&e.className?"."+e.className.trim().replace(/\s+/g,"."):"",this.name=e=>e?.nodeType?e.localName||e.nodeName:"",this.list=function(e){return this.name(e)+this.id(e)+this.class(e)}},isJson(e){if("string"!=typeof e)return!1;const t=e.trim();if(!t.startsWith("{")&&!t.startsWith("["))return!1;try{const t=JSON.parse(e);return t&&"object"==typeof t}catch{return!1}},isClass:e=>!("function"!=typeof e||!/^class\s/.test(Function.prototype.toString.call(e))),isURL:e=>void 0!==e&&"string"==typeof e&&!!e.match(/^(http:\/\/|https:\/\/|www\.|localhost)|(.html|.php|.com|.json|.xml\b)/),get_attr_element(e,t){if(!e||!t)return!1;if((t=t.toLowerCase())in e){const r=e[t];if("boolean"==typeof r)return r}const r=e.getAttribute(t);return null!==r&&(""===r||r===t||"true"===r||"false"!==r&&Boolean(r))},isFormElement:e=>e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement,getContentType(e){if(!e||"string"!=typeof e)return"unknown";const t=e.toLowerCase().split(";")[0].trim(),r=new Map([["application/json","json"],["application/ld+json","jsonld"],["application/vnd.api+json","jsonapi"],["application/x-ndjson","ndjson"],["text/html","html"],["text/plain","text"],["text/xml","xml"],["application/xml","xml"],["application/javascript","js"],["text/javascript","js"],["application/pdf","pdf"],["application/zip","zip"],["application/octet-stream","binary"],["application/x-www-form-urlencoded","form"],["multipart/form-data","multipart"],["application/graphql","graphql"],["text/event-stream","sse"]]);if(r.has(t))return r.get(t);const[n,a]=t.split("/");return"image"===n||"audio"===n||"video"===n?a:"unknown"},isFunction(e,t){let r;return e instanceof Function&&(r=!0),"function"==typeof e&&(r=!0),!!r&&("function"==typeof t?t()||!0:void 0===t||t)}}),l.fn.extend({on(e,t){return"string"==typeof e&&"function"==typeof t&&this.forEach(r=>{r.addEventListener(e,t)}),this},trigger(e,t){return this.forEach(r=>a.trigger(r,e,t)),this},animate(e,t,r){if(void 0===e||""===e)return this;if(void 0===t||""===t)return this;const n=[];return this.forEach(r=>{r.animate(e,t);const a=r.getAnimations();l.helper.expando.set(r,"animateCache",a),n.push(...a.map(e=>e.finished.catch(()=>{})))}),this.promise=Promise.all(n),"function"==typeof r&&(this.promise=this.promise.then(()=>r.call(this,this))),this},done(e){if("function"!=typeof e)return this;const t=[];return this.forEach(e=>{const r=l.helper.expando.get(e,"animateCache");Array.isArray(r)&&t.push(...r.map(e=>e.finished.catch(()=>{})))}),t.length>0&&(this.promise=Promise.all(t).then(()=>{e.call(this,this),this.forEach(e=>l.helper.expando.remove(e,"animateCache"))})),this},pause(){return this.forEach(e=>{(l.helper.expando.get(e,"animateCache")||e.getAnimations()).forEach(e=>{try{e.pause()}catch(e){}})}),this},resume(){return this.forEach(e=>{(l.helper.expando.get(e,"animateCache")||e.getAnimations()).forEach(e=>{try{e.play()}catch(e){}})}),this},stop(){return this.forEach(e=>{(l.helper.expando.get(e,"animateCache")||e.getAnimations()).forEach(e=>{try{e.cancel()}catch(e){}}),l.helper.expando.remove(e,"animateCache")}),this},addClass(e){if("string"==typeof e&&e.trim()){const t=e.trim().replace(/^[.]*/g,"").split(/\s+/);return this.forEach(e=>e.classList&&e.classList.add(...t))}return this},toggleClass(e){return"string"==typeof e&&e&&this.forEach(t=>t.classList.toggle(e)),this},removeClass(e){let t;return t="string"==typeof e&&e?e.split(" "):"array"===l.helper.type(e)&&e,this.forEach(e=>{if(t)for(const r of t)e.classList.remove(r);else e.classList=""}),this},replaceClass(e,t){return"string"==typeof e&&"string"==typeof t&&this.forEach(r=>{r.classList.remove(...e.trim().split(/\s+/)),r.classList.add(...t.trim().split(/\s+/))}),this},hasClass(e){return""!==e&&"string"==typeof e&&this[0].matches("."+e.replace(/^\./,""))},closest(e){if(void 0===e||""===e)return l(this).parent();let t=[];for(let r=0;r<this.length;r++){const n=this[r].closest(e);n&&!t.includes(n)&&t.push(n)}return this.pushStack(t)},next(e){const t=[];return this.forEach(r=>{let n=r.nextElementSibling;n&&("string"==typeof e?n.matches(e)&&t.push(n):t.push(n))}),this.pushStack(t)},prev(e){const t=[];return this.forEach(r=>{let n=r.previousElementSibling;n&&("string"==typeof e?n.matches(e)&&t.push(n):t.push(n))}),this.pushStack(t)},siblings(e){const t=[];return this.forEach(r=>{Array.from(r.parentNode?.children||[]).forEach(n=>{n!==r&&("string"==typeof e?n.matches(e)&&t.push(n):t.push(n))})}),this.pushStack(t)},children(e){const t=[];return this.forEach(r=>{Array.from(r.children||[]).forEach(r=>"string"==typeof e?r.matches(e)&&t.push(r):t.push(r))}),this.pushStack(t)},parent(e){const t=[];return this.forEach(r=>{const n=r.parentElement;n&&!t.includes(n)&&("string"==typeof e?n.matches(e)&&t.push(n):t.push(n))}),this.pushStack(t)},serialize(){const e=this[0];if(!e||"FORM"!==e.nodeName.toUpperCase())return"";const t=[],r=e.elements;for(let e=0;e<r.length;e++){const n=r[e];if(n.name&&!n.disabled&&!["file","reset","submit","button"].includes(n.type))if("select-multiple"===n.type)for(let e=0;e<n.options.length;e++){const r=n.options[e];r.selected&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(r.value??""))}else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&t.push(encodeURIComponent(n.name)+"="+encodeURIComponent(n.value??""))}return t.join("&")},css(e,t){return"string"==typeof e?void 0!==t?(this.forEach(r=>null===t||""===t?r.style.removeProperty(e):r.style[e]=t),this):this[0]?.style?.[e]||getComputedStyle(this[0])[e]:"object"==typeof e?(this.forEach(t=>{for(let r in e)null===e[r]||""===e[r]?t.style.removeProperty(r):t.style[r]=e[r]}),this):void 0},val(e,t=""){if(void 0===e){const e=this[0];if(!e)return;return e.multiple&&e.options?Array.from(e.options).filter(e=>e.selected).map(e=>e.value):e.value}return this.forEach(t=>{t.multiple?t.options&&Array.from(t.options).forEach(t=>t.selected=e.includes(t.value)):t.value=e}),this.trigger("change",{value:e}),this},text(e){if(void 0===e){const e=this[0];return e?e.textContent:""}return this.forEach(t=>t.textContent=e),this},attr(e,t){if("string"==typeof e&&void 0===t){const t=this[0];return t?l.helper.get_attr_element(t,e):void 0}return"string"==typeof e?this.forEach(r=>r.setAttribute(e,t)):"object"==typeof e&&null!==e&&this.forEach(t=>{for(let r in e)t.setAttribute(r,e[r])}),this},prop(e,t){if("string"==typeof e&&void 0===t){const t=this[0];return t?t[e]:void 0}return"string"==typeof e?this.forEach(r=>r[e]=t):"object"==typeof e&&null!==e&&this.forEach(t=>{for(let r in e)t[r]=e[r]}),this},append(e,t="beforeend"){if(void 0===e||""===e)return this;if(!["beforebegin","afterbegin","beforeend","afterend"].includes(t))return r.warn("argument 'position' pada method 'insertElement' tidak benar"),this;let n=("string"==typeof e?l.helper.toHTML(e):e?.length&&Array.from(e))||e?.nodeType&&[e];return this.forEach(e=>n.forEach(r=>e.insertAdjacentElement(t,r))),this},get(e){return void 0===e?[...this]:e<0?this[this.length+e]:this.length-1<e?null:this[e]},find(e){if("string"!=typeof e||""===e)return this;let t=[];for(let r=0;r<this.length;r++){const n=this[r].querySelectorAll(e);n.length&&t.push(...n)}return this.pushStack(t)},appendTo(e){const t=l(e),r=[];return t.forEach((e,t)=>{this.forEach(n=>{const a=0===t?n:n.cloneNode(!0);e.appendChild(a),r.push(a)})}),l(r)},match(e){const t=this[0];return!(!t||1!==t.nodeType)&&t.matches(e)},removeAttr(e){if("string"!=typeof e)return this;const t=e.trim().split(/\s+/);return this.forEach(e=>{t.forEach(t=>e.removeAttribute(t))}),this},hide(){return this.forEach(e=>{if(!(e&&e instanceof Element))return this;const t=e.style.display;if(t&&"none"!==t)l.helper.expando.set(e,"style",{display:t}),e.style.display="none";else{"none"!==getComputedStyle(e).display&&(e.style.display="none")}}),this},show(){return this.forEach(e=>{if(!(e&&e instanceof Element))return this;const t=l.helper.expando.get(e,"style");e.style.display=t?.display?t.display:""}),this},remove(){return this.forEach(e=>{(l.helper.expando.get(e,"animateCache")||e.getAnimations?.()||[]).forEach(e=>{try{e.cancel()}catch{}}),e.remove()}),this},load(e,t){if(!e)return this;let[r,n]=e.split(/\s+(.*)/s);const a=this;return q.ajax({url:r,method:t?.data?"POST":"GET",data:t?.data||{},success:function(e){let r=e;if("function"==typeof t?.onResults&&(r=t.onResults(r)||r),q.helper.type(r,"stringHtml")&&(r=q.helper.toHTML(r)),n){const e=document.createElement("div");l.helper.type(r,"array")?e.append(...r):"string"==typeof r&&(e.innerHTML=r),r=e.querySelectorAll(n)}a.forEach(e=>{e.innerHTML="",n?r.forEach(t=>e.append(t.cloneNode(!0))):l.helper.type(r,"array")?e.append(...r):"string"==typeof r&&(e.innerHTML=r)}),"function"==typeof t?.status&&t.status({status:this.status,statusText:this.statusText})},error:function(e){"function"==typeof t?.status&&t.status(e)}}),this},select(e){return this.forEach(t=>{l.helper.expando.set(t,"attribute",{...e,cache:new Map,lastRequest:null})}),this},loader(e){return this.forEach(t=>l.loader({target:t,...e})),this},stopLoader(){this.forEach(e=>{e.querySelectorAll(".loader").forEach(e=>l(e).animate({opacity:[1,0]},500).done(()=>e.remove()))})},validate(e){return this.forEach(t=>q.validate({...e,target:t})),this}}),l.extend(l,{layerManager:new class{#u={};#f={name:[]};#p(e,t){t.connected?.call(t.context,{...t,target:t.target||t.src,type:e})}#h(){const e=this,t=this.#u.overlay?this.#u.context:this.#u.src;t.bindEvent(o,"keydown",function(t){if("Escape"===t.key){const t=l.face.compareAll(...l("sunquery-panel[fullscreen]").get(),"sunquery-overlay"),r=t&&t.details.length?t.details[0]:null;if(r)for(const t of e.#f.name){const n=e.#f[t]?.length,a=e.#f[t][n-1];a?.context===r.el&&e.#p("escape",a)}}},{id:"layerManager"}),t.bindEvent(o.body,"click",function(t){for(const r of e.#f.name){const n=e.#f[r]&&e.#f[r].filter(e=>e.src!==t.target);if(n)for(const r of n){if(!r.ext.includes("onblur"))break;const n=r.context.contains(t.target)?"onfocus":"onblur";e.#p(n,{...r,target:t.target})}}},{id:"layerManager"})}#m(e=""){const t=l.createElement("div",{class:"backdrop "+e,style:`display:grid;position:fixed;inset:0;z-index:${l.face.index()};overflow:hidden;`});return l(document.body).append(t).attr("backdrop",!0),l(t).animate({opacity:[.1,1]},{ease:"ease-in",duration:200}),l(t).click(function(e){e.target===this&&l(this).find("sunquery-overlay").animate([{transform:"scale(1)"},{transform:"scale(0.98)"},{transform:"scale(1)"}],{duration:500,easing:"ease-in-out",fill:"forwards"})}),t}async#g(e){const t=this.#u;"html"===l.helper.type(t.overlay.content)||"string"!==l.helper.type(t.overlay.content)||l.helper.isURL(t.overlay.content);let r=t.overlay.content;if(l.helper.isURL(t.overlay.content))try{r=await l.ajax({url:t.overlay.content}),l.helper.type(r,"stringHtml")&&(r=l.helper.toHTML(r))}catch(e){return console.error(e)}if(!r)return void console.error("[üñ•Ô∏èLayer Manager] penggunaan 'overlay' wajib menggunakan 'content'!");const n=t.overlay.backdrop?this.#m():o.body,a=l.createElement("sunquery-overlay",{style:`position:${t.overlay.backdrop?"relative":"fixed"};overflow:hidden;`,id:l.helper.generateUniqueId()});l(a).appendTo(n).css("z-index",l.face.index());const s=l.helper.type(r);if("object"===s){if("function"!=typeof r?.get_content)return void console.error("[üñ•Ô∏èLayer Manager] tidak ditemukan method 'get_content' pada target 'content'!");r=r.get_content()}if("array"===s?r.forEach(e=>{a.append(e)}):"html"===s?a.append(r):"string"===s?a.textContent=r:console.error(`[üñ•Ô∏èLayer Manager] 'content' bertype '${s}' tidak didukung!`),t.overlay.scrollParent=l.helper.findScrollParent(t.src),t.overlay.attached){const e=()=>{const e=t.src.getBoundingClientRect(),r=a.getBoundingClientRect(),n=t.overlay.scrollParent.getBoundingClientRect();let o=e.left;e.left+r.width>=n.right&&(o=e.right-r.width);let s=e.bottom;e.bottom+r.height>=n.bottom&&(s=e.top-r.height),l(a).css({top:`${s+t.overlay.offsetY+window.scrollY}px`,left:`${o+t.overlay.offsetX+window.scrollX}px`})};e(),a.bindEvent(t.overlay.scrollParent,"scroll",e)}if(t.overlay.matchWidth){const e=t.src.getBoundingClientRect();l(a).css({width:`${e.width}px`})}return t.context=a,a.actionName=t.actName,a.release=()=>this.#y(a),e(t),a}#y(e){(e=>{const t=[];for(const r of this.#f.name){const n=this.#f[r];if(Array.isArray(n))for(let a=n.length-1;a>=0;a--)n[a].context===e&&t.push({name:r,index:a,stack:n[a]})}return t})(e).forEach(({name:e,index:t,stack:r})=>{this.#f[e].splice(t,1),r.overlay||r.src.removeEvent("layerManager"),r.overlay?.backdrop&&r.context.parentElement.matches(".sQ__backdrop")&&r.context.parentElement.remove(),(r.overlay?.backdrop||r.overlay?.content)&&(r.context.childNodes.forEach(e=>e.remove()),r.context?.remove?.())})}define(e,t={}){if("string"!=typeof e)return n("[üß©LayerManager] 'name' wajib string");if(!t.source)return n("[üß©LayerManager] 'source' wajib ada");if(t.causeExit&&!Array.isArray(t.causeExit))return n("[üß©LayerManager] 'causeExit' wajib array");const r=this.#f[e]||[];this.#f.name.includes(e)||this.#f.name.push(e);if(!(!0===t.multiple))for(const e of r)if(e.src===t.source)return this.#p("click",e),!1;this.#u={actName:e,src:t.source,ext:t.causeExit||[],overlay:t.overlay?{backdrop:!1!==t.overlay.backdrop,attached:!0!==t.overlay.backdrop&&!1!==t.overlay.attached,matchWidth:!1!==t.overlay.matchWidth,content:t.overlay.content,offsetX:t.overlay.offsetX||0,offsetY:t.overlay.offsetY||0}:null,connected:"function"==typeof t.connected?t.connected:()=>{}};const a=()=>{Array.isArray(this.#f[e])||(this.#f[e]=[]),this.#f[e].push(this.#u),this.#p("init",this.#u),this.#h()};return this.#u.overlay?this.#g(a):(this.#u.context=t.context||t.source,t.source.release=()=>this.#y(t.context||t.source),a()),!0}close(e,t=null){const r=this.#f[e];if(!Array.isArray(r))return!1;for(let e=r.length-1;e>=0;e--){const n=r[e];t&&n.src!==t||(n.context?.release?.(),r.splice(e,1))}return!0}},face:new function(){const e={opacity:"1",transform:"none",filter:"none",perspective:"none",mixBlendMode:"normal",willChange:"auto",isolation:"auto",position:"static",clipPath:"none",mask:"none",contain:"none",backdropFilter:"none"};function t(e){return e?"string"==typeof e?e:e.id?`#${e.id}`:e.className?`.${e.className}`:e.tagName?.toLowerCase()||"unknown":"unknown"}function r(e,t){if(!e)return!1;if("string"==typeof t)try{return e.matches(t)}catch{return!1}return e===t}function n(t){const r=Array.isArray(t)?t:["opacity","transform","filter","perspective","mixBlendMode","willChange"],n=Array.from(document.body.querySelectorAll("*")),a=[];return n.forEach(t=>{const n=getComputedStyle(t),o=n.position;if("none"===n.display||"hidden"===n.visibility||0===parseFloat(n.opacity)||!["relative","absolute","fixed","sticky"].includes(o)||"fixed"!==o&&null===t.offsetParent)return;let s=parseInt(n.zIndex,10);isNaN(s)&&(s=0);const i=function(t,r,n){return n.some(t=>{const n=r[t],a=e[t];return void 0!==n&&("opacity"===t?parseFloat(n)<1:n!==a)})}(0,n,r);a.push({element:t,zIndex:s,isContext:i})}),a.sort((e,t)=>e.zIndex===t.zIndex?(!0===t.isContext)-(!0===e.isContext):t.zIndex-e.zIndex),a}return new class{index(e){const t=n(e);return t.length?t[0].zIndex+1:1}list(e){const t=n();return void 0===e?t:t.slice(0,parseInt(e))}compare(e,a){const o=n(),s=o.findIndex(t=>r(t.element,e)),i=o.findIndex(e=>r(e.element,a)),l=-1!==s?o[s].zIndex:0,c=-1!==i?o[i].zIndex:0;if(-1===s&&-1===i)return{higher:null,lower:null,found:[],missing:[e,a],message:`‚ùå Kedua elemen (${t(e)} dan ${t(a)}) tidak ditemukan dalam daftar visual`};if(-1===s)return{higher:a,lower:null,found:[a],missing:[e],message:`‚ö†Ô∏è ${t(e)} tidak ditemukan, ${t(a)} (z-index: ${c}) dianggap tertinggi`};if(-1===i)return{higher:e,lower:null,found:[e],missing:[a],message:`‚ö†Ô∏è ${t(a)} tidak ditemukan, ${t(e)} (z-index: ${l}) dianggap tertinggi`};const d=s<i?e:a,u=s<i?a:e;return{higher:d,lower:u,found:[e,a],missing:[],zIndexA:l,zIndexB:c,message:`‚úÖ ${t(d)} (z-index: ${Math.max(l,c)}) lebih tinggi dari ${t(u)} (z-index: ${Math.min(l,c)})`}}compareAll(...e){const a=n();const o=e.map(function(e){const n=a.findIndex(t=>r(t.element,e));if(-1!==n){const r=a[n];return{el:r.element,label:t(e),index:n,zIndex:r.zIndex,isContext:r.isContext,visible:!0}}const o="string"==typeof e?document.querySelector(e):e instanceof HTMLElement?e:null,s=o?getComputedStyle(o):{},i=o&&"none"!==s.display&&"hidden"!==s.visibility&&parseFloat(s.opacity)>0;return{el:o||null,label:t(e),index:1/0,zIndex:-1/0,isContext:!1,visible:!!i}}).filter(e=>e.visible);return o.sort((e,t)=>e.index-t.index),{order:o.map(e=>e.label),details:o,message:0===o.length?"‚ùå Tidak ada elemen yang visible dalam daftar perbandingan.":"üîé Urutan visual (visible saja) dari tertinggi ke terbawah:\n- "+o.map(e=>`${e.label} (z: ${e.zIndex}, ${e.isContext?"stacking context":"no context"})`).join("\n- ")}}}},debounce(e,t){let r=null;return function(...n){clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}},ajax(e={}){if(!l.helper.isURL(e?.url))return void r.error("[ajax] parameter 'url' accepts only type 'string'");e={...l.ajax?._global_config,...e};const t=(e?.method||"GET").toUpperCase(),n=e?.timeout||0,a=!1!==e?.cache,o={dataType:[],cache:a,response:null,status:null,statusText:null},s=e.crossDomain||!1,i=e?.responseType||"",c=l.helper.isFunction(e?.success,[e.success])||[],d=l.helper.isFunction(e?.error,[e.error])||[],u=l.helper.isFunction(e?.always,[e.always])||[];let f=function(e){return e?e instanceof FormData?e:("sQ"===l.helper.type(e)&&(e=e[0]),"NodeList"===e?.constructor?.name&&(e=e[0]),"html"===l.helper.type(e)&&"FORM"===e.nodeName?.toUpperCase()?l(e).serialize():("stringJson"===l.helper.type(e)&&(e=JSON.parse(e)),"object"===l.helper.type(e)?Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&"):e)):null}(e.data);const p=function(r){const n={};for(let e in r||{})n[e.replace(/([a-z])([A-Z])/g,"$1-$2").split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("-")]=r[e];return"GET"!==t&&(n["Content-Type"]=n["Content-Type"]||e.contentType||"application/x-www-form-urlencoded; charset=UTF-8"),n}("function"==typeof e.headers?e.headers():e.headers||{}),h={abort:()=>b.abort(),done(e){return c.push(e),this},fail(e){return d.push(e),this},always(e){return u.push(e),this},then(e,t){return new Promise((e,t)=>{this.done(e).fail(t)}).then(e,t)}},m=function(e){try{return JSON.parse(e)}catch(e){r.error("[ajax] json_parse error",e)}};let g=!1;const y=function(e){if(!g){g=!0;const t=m(b.responseText);t&&(e&&(t.status=e),o.status=b.status,o.statusText=b.statusText,d.forEach(e=>e.call(o,t)),u.forEach(e=>e.call(o,t)))}};if("GET"===t){const t=[];if(f&&t.push(f),a||t.push("_="+Date.now()),t.length){const r=e.url.includes("?")?"&":"?";e.url+=r+t.join("&")}}l.helper.isFunction(e?.beforeSend,()=>{if(!1===e.beforeSend.call(b,f))return{abort:()=>b.abort(),done:()=>this,fail:()=>this,always:()=>this,then:()=>Promise.reject()}}),l.helper.isFunction(e?.progress,()=>b.onprogress=t=>e.progress(t,b)),l.helper.isFunction(e?.uploadProgress,()=>b.upload.onprogress=t=>e.uploadProgress(t,b));const b=new XMLHttpRequest;b.onreadystatechange=function(){if(4===b.readyState)if(b.status>=200&&b.status<300){let e=b.response;const t=l.helper.getContentType(b.getResponseHeader("Content-Type")||"");o.dataType.push(t),"json"===t&&(e=m(b.responseText)),o.response=e,o.status=b.status,o.statusText=b.statusText,c.forEach(t=>t.call(o,e))}else y()},b.onerror=b.ontimeout=()=>y(b.ontimeout&&"timeout"),b.open(t,e.url,!1!==e.async),b.timeout=n,s&&"withCredentials"in b&&(b.withCredentials=!0);for(const e in p)f instanceof FormData&&"content-type"===e.toLowerCase()||b.setRequestHeader(e,p[e]);try{b.responseType=i}catch(e){r.warn("[ajax] Unsupported responseType:",i)}return b.send("GET"===t?null:f),h},Date(...e){l.Date.days,l.Date.months;const t=252e5,r=[31,28,31,30,31,30,31,31,30,31,30,31],n=e=>e%4==0&&e%100!=0||e%400==0;let a="unknown";function o(e,t,a,o,s,i){for(;t>12;)t-=12,e++;for(;t<1;)t+=12,e--;let l=r.slice();for(n(e)&&(l[1]=29);a>l[t-1];)a-=l[t-1],++t>12&&(t=1,e++,n(e)?l[1]=29:l[1]=28);for(;a<1;)--t<1&&(t=12,e--,n(e)?l[1]=29:l[1]=28),a+=l[t-1];return[e,t,a,o,s,i]}function s(e,a,o,s,i,l){let c=0;for(let t=1970;t<e;t++)c+=n(t)?366:365;return c+=r.slice(0,a-1).reduce((e,t)=>e+t,0)+(o-1),n(e)&&a>2&&(c+=1),24*c*60*60*1e3+60*s*60*1e3+60*i*1e3+1e3*l-t}function i(e){e+=t;let a=Math.floor(e/864e5),o=e%864e5,s=Math.floor(o/36e5);o%=36e5;let i=Math.floor(o/6e4);o%=6e4;let l=Math.floor(o/1e3),c=1970;for(;;){const e=n(c)?366:365;if(!(a>=e))break;a-=e,c++}const d=r.slice();n(c)&&(d[1]=29);let u=0;for(;a>=d[u];)a-=d[u],u++;return{y:c,m:u+1,d:a+1,h:s,min:i,s:l}}let c={y:1970,m:1,d:1,h:0,min:0,s:0},d=0,u=!1;try{c=function(e){if(0===e.length)return a="timestamp",i(Date.now());let t=e[0];if(1===e.length&&"number"==typeof e[0]&&!isNaN(t))return a="timestamp",t;if("string"==typeof t){if(/^\d{10,13}$/.test(t))return a="timestamp",Number(t);let e=t.match(/^(\d{4})-(\d{2})-(\d{2})(?:[T\s](\d{2}):(\d{2})(?::(\d{2}))?)?/);if(e){let[,t,r,n,s=0,i=0,l=0]=e;return a="iso",o(Number(t),Number(r),Number(n),Number(s),Number(i),Number(l))}const r=function(e){const t=e.match(/^(\d{1,4})(\D+)(\d{1,2})(\D+)(\d{1,4})(?:\s+(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?)?$/);if(!t)return;const[,r,n,a,o,s,i,l,c]=t;let d=null;if(4===r.length&&a.length<=2&&s.length<=2)d=`YY${n}m${o}d`;else{if(!(4===s.length&&r.length<=2&&a.length<=2))return;d=`d${n}m${o}YY`}return void 0!==i&&void 0!==l?void 0!==c?{d:r,m:a,y:s,h:i||0,min:l||0,s:c||0,format:`${d} h:ms:s`}:{d:r,m:a,y:s,h:i||0,min:l||0,s:c||0,format:`${d} h:ms`}:{d:r,m:a,y:s,h:i||0,min:l||0,s:c||0,format:d}}(t);if(r)return a=r.format,o(Number(r.y),Number(r.m),Number(r.d),Number(r.h),Number(r.min),Number(r.s))}return Array.isArray(t)?o(t[0]||1970,t[1]||1,t[2]||0,t[3]||0,t[4]||0,t[5]||0):e.length>=3?o(e[0]||1970,e[1]||1,e[2]||0,e[3]||0,e[4]||0,e[5]||0):void(u=!0)}(e),l.helper.type(c,"array")?d=s(...c):l.helper.type(c,"object")?d=s(c.y,c.m,c.d,c.h,c.min,c.s):l.helper.type(c,"number")&&(d=c),c=i(d)}catch(e){console.error("[Date]",e)}function f(){u||([c.y,c.m,c.d,c.h,c.min,c.s]=o(c.y,c.m,c.d,c.h,c.min,c.s),d=s(c.y,c.m,c.d,c.h,c.min,c.s),c=i(d))}function p(){u||(c=i(d))}const h=e=>u?"":e;return{[Symbol.toPrimitive]:()=>h(d),toString(){return h(this.getFormat())},valueOf:()=>h(d),getDay(){let e=c.y,t=c.m;t<3&&(t+=12,e--);let r=(c.d+Math.floor(13*(t+1)/5)+e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;return h((r+6)%7)},getDayName(){return h(l.Date.days[this.getDay()])},getDate:()=>h(c.d),getMonth:()=>h(c.m),getMonthName:()=>h(l.Date.months[c.m-1]),getYear:()=>h(c.y),getHours:()=>h(c.h),getMinutes:()=>h(c.min),getSeconds:()=>h(c.s),getFormat(e="DD, d-M-YY h:ms:s"){if(isNaN(d)||u)return"";const t={DD:this.getDayName(),D:this.getDay()?this.getDayName().slice(0,3):this.getDayName().slice(0,4),d:String(this.getDate()).padStart(2,"0"),MM:this.getMonthName(),M:this.getMonthName().slice(0,3),m:String(this.getMonth()).padStart(2,"0"),YY:String(this.getYear()).padStart(4,"0"),yy:String(this.getYear()).padStart(4,"0"),Y:String(this.getYear()).slice(-2),y:String(this.getYear()).slice(-2),h:String(this.getHours()).padStart(2,"0"),ms:String(this.getMinutes()).padStart(2,"0"),s:String(this.getSeconds()).padStart(2,"0")},r=Object.keys(t).sort((e,t)=>t.length-e.length),n=new RegExp(r.join("|"),"g");return e.replace(n,e=>t[e])},getInputFormat:()=>a,setDate(e){c.d=e,f()},setMonth(e){c.m=e,f()},setYear(e){c.y=e,f()},setHours(e){c.h=e,f()},setMinutes(e){c.min=e,f()},setSeconds(e){c.s=e,f()},addDays(e){d+=24*e*60*60*1e3,p()},addMonths(e){c.m+=e,f()},addYears(e){c.y+=e,f()},toLocaleString(){return h(this.toString())},getTime:()=>h(d),setTime(e){d=e,p()},getAge(e=""){const t=l.Date();let r=t.getYear()-this.getYear();const n=t.getMonth()-this.getMonth(),a=t.getDate()-this.getDate();return(n<0||0===n&&a<0)&&r--,h(r+" "+e)},getBirthInfo(e="DD, d MM yy"){const t=l.Date();let r=t.getYear()-this.getYear(),n=t.getMonth()-this.getMonth(),a=t.getDate()-this.getDate();return a<0&&(n--,a+=l.Date(t.getYear(),t.getMonth(),0).getDate()),n<0&&(r--,n+=12),{age:r,years:r,months:n,days:a,date:this.getFormat(e),timestamp:this.getTime()}},add(e={}){return e.years&&this.addYears(e.years),e.months&&this.addMonths(e.months),e.days&&this.addDays(e.days),e.hours&&this.setHours(this.getHours()+e.hours),e.minutes&&this.setMinutes(this.getMinutes()+e.minutes),e.seconds&&this.setSeconds(this.getSeconds()+e.seconds),this},substract(e={}){return e.years&&this.addYears(-e.years),e.months&&this.addMonths(-e.months),e.days&&this.addDays(-e.days),e.hours&&this.setHours(this.getHours()-e.hours),e.minutes&&this.setMinutes(this.getMinutes()-e.minutes),e.seconds&&this.setSeconds(this.getSeconds()-e.seconds),this},toObject(){return{year:this.getYear(),month:this.getMonth(),date:this.getDate(),hours:this.getHours(),minutes:this.getMinutes(),seconds:this.getSeconds(),timestamp:this.getTime()}},diff(e,t="days"){const r=this.getTime()-l.Date(e).getTime();return"days"===t?Math.floor(r/864e5):"months"===t?12*(this.getYear()-l.Date(e).getYear())+(this.getMonth()-l.Date(e).getMonth()):"years"===t?this.getYear()-l.Date(e).getYear():"seconds"===t?Math.floor(r/1e3):"minutes"===t?Math.floor(r/6e4):"hours"===t?Math.floor(r/36e5):r},diffDays(e){return this.diff(e,"days")},diffMonths(e){return this.diff(e,"months")},diffYears(e){return this.diff(e,"years")},getError:()=>u}},loader_old(e){let t;if(e={...l.loader._global_config,...e},l.helper.type(e?.target,"string"))t=o.querySelector(e?.target);else if(l.helper.type(e?.target,"html"))t=e?.target;else{if(!l.helper.type(e?.target,"sunQuery"))return void console.error(`[loader] target '${e?.target}' not found on page`);t=e?.target[0]}const r=l.helper.generateUniqueId(5),n=l.createElement("div",{class:"loader",id:r}),a=l.createElement("div",{class:"spinner"}),s=l.createElement("div",{class:"title",content:e?.title||""});a.append(s);const i=l.createElement("h2",{text:e?.text||"loading..."});return n.append(a,i),l(t).append(n),l(n).css("z-index",l.face.index()),n},loader(e){let t;if(e={...l.loader._global_config,...e},l.helper.type(e?.target,"string"))t=o.querySelector(e?.target);else if(l.helper.type(e?.target,"html"))t=e?.target;else{if(!l.helper.type(e?.target,"sunQuery"))return void console.error(`[loader] target '${e?.target}' not found on page`);t=e?.target[0]}const r=l.helper.generateUniqueId(5),n=l.createElement("div",{class:"loader",id:r}),a=e?.logo?l.createElement("img",{alt:"logo",src:"assets/img/logo.png"}):l.createElement("span",{text:"loading..."}),s=l.createElement("div",{class:"loader-dots",html:"<span></span><span></span><span></span>"});return n.append(a,s),l(t).append(n),l(n).css("z-index",l.face.index()),n},modal(e){e={header:null,dismiss:{esc:!0,backdrop:!0},...e};const t=function(e,t){l(e).animate({transform:["translateY(0%)","translateY(-5%)"],opacity:[1,0]},300).done(()=>{this.release(),l(t).animate({opacity:[1,0]},100).done(()=>t.remove())})},r=function(e){e.content=l.createElement("div",{class:"body",html:e.content}),e.content.querySelectorAll(".body").forEach(e=>e.classList.remove("body")),l.layerManager.define("modal",{source:e?.source,overlay:{backdrop:!0,matchWidth:!1,attached:!1,content:e.content},connected:function(r){const n=r.context,a=n.parentElement;"init"===r.type&&(n.classList.add("modal"),n.classList.add(l.helper.normalizeSize(e?.size)),e.header&&n.insertAdjacentElement("afterbegin",e.header),a.addEventListener("click",({target:e})=>{e.matches(".backdrop")?l(n).animate([{transform:"scale(1)"},{transform:"scale(1.02)"},{transform:"scale(0.97)"},{transform:"scale(1)"}],{duration:400,easing:"ease-in-out"}):e.closest('[dismiss="modal"]')&&t.call(this,n,a)})),"escape"===r.type&&t.call(this,n,a)}})};if(e?.header){let t=e?.header?.title,r=e?.header?.close;"string"==typeof t?(t=(n=t,n.replace(/\bdismiss(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'<>]+))?/gi,"").replace(/\s+/g," ").trim())?.trim(),t=`<span class="modal-title">${t}</span>`):t=void 0,t&&(0!=r&&(t+='<div class="toolbar"><button class="btn-icon btn-danger" dismiss="modal"><i class="ph ph-x"></i></buton></div>'),e.header=l.createElement("div",{class:"header",html:t}),t=e.header.querySelector(".modal-title"),t.removeAttribute("dismiss"))}var n;let a=e?.content;l.helper.isURL(a)?l.ajax({url:a,success:function(t){a=t,r({...e,content:a})},error:function(e){console.error(`[üñ•Ô∏èModal] Ajax Request : ${e}`)}}):r(e)},observer(e,t={}){r("OBSERVER"),(e=l.helper.type(e,"string")?o.querySelectorAll(e):l.helper.type(e,"html")?[e]:l.helper.type(e,"sunQuery")?e.get():null).forEach(e=>{if(!(e instanceof Element))return;const r=l.helper.expando.get(e,"observer");r&&(r.disconnect(),l.helper.expando.remove(e,"observer"));const n={attributes:!!t.attributes,childList:!!t.childList,subtree:!!t.subtree,attributeOldValue:!!t.attributes};Array.isArray(t.attributes)&&(n.attributes=!0,n.attributeFilter=t.attributes);const o=new MutationObserver(t=>{t.forEach(t=>{const r={target:t.target,type:t.type,mutation:t};"attributes"===t.type&&(r.attrName=t.attributeName,r.oldValue=t.oldValue,r.newValue=t.target.getAttribute(t.attributeName),a.trigger(e,"changeAttr",r)),"childList"===t.type&&(t.addedNodes.length&&(r.added=Array.from(t.addedNodes).filter(e=>1===e.nodeType),r.added.length&&a.trigger(e,"addElement",r)),t.removedNodes.length&&(r.removed=Array.from(t.removedNodes).filter(e=>1===e.nodeType),r.removed.length&&a.trigger(e,"remElement",r)))})});o.observe(e,{childList:!0,subtree:!0,attributes:!0}),l.helper.expando.set(e,"observer",o)})},storage(e){},tooltip(e){if(l.helper.type(e?.target,"string"))e.target=o.querySelector(e?.target);else if(l.helper.type(e?.target,"html"))e.target=e.target;else{if(!l.helper.type(e?.target,"sunQuery"))return void console.error("[tooltip] target must be a string, html or sunQuery");e.target=e.target[0]}if(!e?.content)return void console.error("[tooltip] content must be a string, html, stringHtml, url, or sunQuery");if(e?.identity&&e.target.parentElement.querySelector('[data-identity="'+e.identity+'"]'))return;const t=e?.identity||"";let r,n=e.content;const a=l.helper.getVisibleRect(e.target);if(!a)return void console.error("[tooltip] target must be visible");const s=l.createElement("div",{class:"tooltip"});function i(e=0){e?l(s).animate({opacity:[1,0]},300).done(()=>s.remove()):s.remove(),r&&r.abort()}return async function(){l.helper.isURL(n)&&(r=l.ajax({url:n}),n=await r),t&&s.setAttribute("data-identity",t),e.target.insertAdjacentElement("afterend",s),l.helper.type(n,"stringHtml")&&(n=l.helper.toHTML(n)),l.helper.type(n,"sunQuery")&&(n=n.get()),l.helper.type(n,"array")?n.forEach(e=>s.append(e)):l.helper.type(n,"string")?s.innerHTML=n:console.error("[tooltip] content not supported");const o=l.helper.getVisibleRect(s);s.style.position="fixed",s.style.left=a.right-o.width-5+"px",s.style.top=`${a.y}px`,s.style.zIndex="1",l(s).addClass("pos-top"),s.style.top=a.y-o.height-7+"px",await new Promise(t=>setTimeout(()=>t(),e?.timer||1e3)),i(300)}(),{release:e=>i(e)}},validate(e){const t=e?.target;if(!(t instanceof HTMLFormElement))return console.error("[validator] target harus berupa elemen 'form'"),!1;return t.addEventListener("submit",function(r){if(r.preventDefault(),!c.validate_form(t))return!1;"function"==typeof e?.submit?e.submit(r):t.submit()}),t.addEventListener("input",({target:e})=>c.validate_field(e)),t.addEventListener("change",({target:e})=>c.validate_field(e)),t.addEventListener("blur",({target:e})=>c.validate_field(e)),t}}),l.ajax.config=function(e){(e?.success||e?.done||e?.fail||e?.error||e?.complete)&&r.warn("[ajax] GlobalConfig","options.success, options.error,  options.complete are deprecated, use options.done, options.fail, options.always, options.done instead"),l.ajax._global_config=e||{}},l.Date.days=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],l.Date.months=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],l.loader.setup=function(e){l.loader._global_config=e||{}},l.storage.save=function(e,t){localStorage.setItem(e,JSON.stringify(t))},l.storage.load=function(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null},l.storage.remove=function(e){localStorage.removeItem(e)},l.storage.clear=function(){localStorage.clear()},l.validate.addMethod=function(e,t,r){c.methods[e]={fn:t,msg:r}},l.validate.addMethod("nik",e=>/^\d*$/.test(e)&&(""===e||16===e.length),"Harus 0 atau bilangan 16 digit"),l.validate.addMethod("number",e=>/^\d+$/.test(e),"Hanya karakter angka"),l.validate.addMethod("rupiah",e=>/^[0-9.,]+$/.test(e),"Hanya boleh berisi karakter numerik dan titik/koma"),l.plugin("form",{datetime(){const e=this,t=function(){const t=l.Date(e.value).getInputFormat();return"unknown"===t.toLowerCase()?"timestamp":t}(),r=l.createElement("div",{class:"input"}),n=l.createForm("text",{value:l.Date(e.value).getFormat("DD, d MM YY")}),a=l.createElement("span",{class:"icon",html:'<i class="ph-fill ph-calendar-dots"></i>'});e.insertAdjacentElement("beforebegin",r),r.prepend(n,a,e),e.setAttribute("type","text"),l.helper.get_attr_element(e,"readonly")&&r.setAttribute("readonly",""),l.helper.get_attr_element(e,"disabled")&&r.setAttribute("disabled","");const o=l.helper.expando.get(e,"attribute");o?.rule&&e.setAttribute("shadow",!0),e.hidden=!0,n.placeholder=e.placeholder,e.removeAttribute("placeholder"),l.helper.get_attr_element(e,"readonly")&&n.setAttribute("readonly",""),l.helper.get_attr_element(e,"disabled")&&n.setAttribute("disabled","");const s=function(){const o=e.value?l.Date(e.value):l.Date(),s=o.getDate(),i=o.getMonth(),c=o.getYear(),d=(o.getTime(),l.Date(Date.now())),u=l.createElement("span",{class:"prev",text:"‚óÄ"}),f=l.createElement("span",{class:"title",text:"November 2025"}),p=l.createElement("span",{class:"next",text:"‚ñ∂"}),h=l.createElement("div",{class:"calendar-head",content:l.createElement("div",{content:[u,f,p]})}),m=l.createElement("div",{class:"calendar-body"}),g=l.createElement("div",{class:"calendar-foot",html:`<span class="">${d.getFormat("d M YY")}</span><p>create by: wahyu_widodo</p>`}),y=l.createElement("div",{class:"calendar-wrap"}),b=l.createElement("div",{class:"calendar-wrap"}),v=l.createElement("div",{class:"calendar-wrap"});let w,E={day_pick:!0,month_pick:null,year_pick:null};const x=function(...e){let[t=o.getYear(),r=o.getMonth(),n=o.getDate()]=e;const a=l.Date(t,r,0),u=l.Date(t,r+1,0),p=l.Date(t,r,1),h=(6===a.getDay()?0:a.getDay()+1)+u.getDate()-p.getDay();(()=>{y.innerHTML="";const e=(e,t=!1,r=!1,n=!1)=>{const a=l.createElement("li",{text:e});return n&&l(a).addClass("active"),r&&l(a).addClass("today"),t&&l(a).addClass("disabled"),a};(function(){const e=l.createElement("ul");l.Date.days.forEach(t=>e.children.length<7&&e.appendChild(l.createElement("li",{text:t.slice(0,3)}))),y.append(e)})(),function(){const n=l.createElement("ul",{class:"days-content"});for(let t=0;t<=a.getDay()&&6!==a.getDay();t++){const r=a.getDate()-a.getDay()+t,o=e(r,!0);l(o).addClass("before"),n.appendChild(o)}for(let a=1;a<=u.getDate();a++){let o=!1,l=!1;d.getDate()===a&&d.getMonth()===r&&d.getYear()===t&&(l=!0),i===r&&s===a&&c===t&&(o=!0);const u=e(a,!1,l,o);n.appendChild(u)}for(let t=p.getDay();t<42-h;t++){const r=p.getDate()-p.getDay()+t,a=e(r,!0);l(a).addClass("after"),n.appendChild(a)}y.append(n)}();f.textContent=u.getMonthName()+" "+u.getYear()})(),function(){if(!E.month_pick)return;b.innerHTML="";const e=l.createElement("ul",{class:"month-content"});b.append(l.createElement("ul"),e),l.Date.months.forEach((t,r)=>{const n=l.createElement("li",{text:t,data:{value:r+1}});e.appendChild(n)}),f.textContent=u.getYear()}(),function(){if(!E.year_pick)return;v.innerHTML="";const e=l.createElement("ul",{class:"year-content"});v.append(l.createElement("ul"),e);for(let r=t-6;r<t+6;r++){const t=l.createElement("li",{text:r,data:{value:r}});e.appendChild(t)}f.textContent=t-6+"-"+(t+5)}()};m.append(y),m.append(b),m.append(v),l(y).show(),l(b).hide(),l(v).hide();const k=function(){l(this).animate({opacity:[1,0]},250).done(()=>{h.remove(),m.remove(),g.remove(),this.release(),n.focus()})};x(),u.addEventListener("click",function(){E.year_pick?o.setYear(o.getYear()-12):E.month_pick?o.setYear(o.getYear()-1):o.setMonth(o.getMonth()-1),x()}),p.addEventListener("click",function(){E.year_pick?o.setYear(o.getYear()+12):E.month_pick?o.setYear(o.getYear()+1):o.setMonth(o.getMonth()+1),x()}),f.addEventListener("click",function(){E.day_pick?(E.month_pick=!0,E.day_pick=!1,l(y).animate({transform:["scale(1)","scale(0.8)"]},250),l(b).show(),l(b).animate({opacity:[0,1],transform:["scale(0.5)","scale(1)"]},250).done(()=>l(y).hide())):E.month_pick&&(E.day_pick=!1,E.month_pick=!1,E.year_pick=!0,l(b).animate({transform:["scale(1)","scale(0.8)"]},250),l(v).animate({opacity:[0,1],transform:["scale(0.5)","scale(1)"]},250).done(()=>l(b).hide()),l(v).show(),l(y).hide()),x()}),m.addEventListener("click",function({target:r}){const n=r.closest(".days-content>li"),a=r.closest(".month-content>li"),s=r.closest(".year-content>li");n&&(r.matches(".before")?o.setMonth(o.getMonth()-1):r.matches(".after")&&o.setMonth(o.getMonth()+1),o.setDate(parseInt(l(r).text())),l(e).val("timestamp"===t?o.getTime():o.getFormat(t)),k.call(w)),a&&(o.setMonth(parseInt(r.getAttribute("data-value"))),E.day_pick=!0,E.month_pick=!1,x(),l(b).animate({transform:["scale(1)","scale(0.8)"],opacity:[1,0]},250),l(y).animate({opacity:[0,1],transform:["scale(0.5)","scale(1)"]},250).done(()=>l(b).hide()),l(y).show()),s&&(o.setYear(parseInt(r.getAttribute("data-value"))),l(y).hide(),E.day_pick=!1,E.month_pick=!0,E.year_pick=!1,l(v).animate({transform:["scale(1)","scale(0.8)"],opacity:[1,0]},250),l(b).animate({opacity:[0,1],transform:["scale(0.5)","scale(1)"]},250).done(()=>{l(v).hide()}),l(b).show(),x())}),g.addEventListener("click",function({target:r}){r.matches("span")&&(l(e).val("timestamp"===t?d.getTime():d.getFormat(t)),k.call(w))}),y.addEventListener("keydown",r=>{try{const n=y.querySelector(".days-content");if(!n)return;const a=Array.from(n.querySelectorAll("li"));if(!a.length)return;let s=a.findIndex(e=>e.classList.contains("nav-focus"));if(-1===s&&(s=a.findIndex(e=>e.classList.contains("active"))||a.findIndex(e=>e.textContent==E.last_nav&&!e.classList.contains("before")&&!e.classList.contains("after"))||0),"ArrowRight"===r.key||"ArrowLeft"===r.key||"ArrowDown"===r.key||"ArrowUp"===r.key){r.preventDefault();const e="ArrowRight"===r.key?1:"ArrowLeft"===r.key?-1:"ArrowDown"===r.key?7:-7;s=Math.max(0,Math.min(a.length-1,s+e)),a.forEach(e=>e.classList.remove("nav-focus"));const t=a[s];if(t.classList.add("nav-focus"),t.scrollIntoView({block:"nearest"}),t.matches(".after")||t.matches(".before")){o.setMonth(o.getMonth()+(t.matches(".after")?1:-1)),x();const e=[...y.querySelectorAll(".days-content li")].filter(e=>!e.classList.contains("before")&&!e.classList.contains("after"));for(const r of e)if(r.textContent===t.textContent){r.classList.add("nav-focus");break}}return}if("Enter"===r.key){r.preventDefault();const n=a[s]||a[0];if(!n)return;n.matches(".before")?o.setMonth(o.getMonth()-1):n.matches(".after")&&o.setMonth(o.getMonth()+1),o.setDate(parseInt(n.textContent,10)),l(e).val("timestamp"===t?o.getTime():o.getFormat(t)),k.call(w)}}catch(e){console.error(e)}}),l.layerManager.define("date",{source:r,causeExit:["onblur","onfocus"],overlay:{backdrop:!1,matchWidth:!1,attached:!0,content:[h,m,g],offsetY:10},connected(e){w=e.context,"init"===e.type&&(w.classList.add("input-calendar"),l(w).animate({opacity:[0,1]},400),y.setAttribute("tabindex",0),y.focus(),y.querySelector(".days-content li.active").classList.add("nav-focus")),"onfocus"===e.type||"init"===e.type||a.contains(e.target)||k.call(this)}})};a.addEventListener("click",s),n.addEventListener("keydown",e=>{"Enter"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),s())}),e.addEventListener("change",()=>n.value=l.Date(e.value).getFormat("DD, d MM yy")),n.addEventListener("input",r=>{let n=r.target.value.replace(/\D/g,""),a="";if(n.length>0){const e=n.substring(0,2);a=parseInt(e)<31?e:31}if(n.length>=3){const e=n.substring(2,4);a+=parseInt(e)<12?"-"+e:"-12"}n.length>=5&&(a+="-"+n.substring(4,8)),r.target.value=a;const o=l.Date(a).getError();e.value=o?"":"timestamp"===t?l.Date(a).getTime():l.Date(a).getFormat(t)}),n.addEventListener("focus",()=>n.value=l.Date(e.value).getFormat("d-m-yy")),n.addEventListener("blur",()=>n.value=l.Date(e.value).getFormat("DD, d MM yy"));new MutationObserver(t=>{for(const r of t)"attributes"===r.type&&(l.helper.get_attr_element(r.target,"readonly")?e.closest(".input").setAttribute("readonly",""):e.closest(".input").removeAttribute("readonly"),l.helper.get_attr_element(r.target,"disabled")?e.closest(".input").setAttribute("disabled",""):e.closest(".input").removeAttribute("disabled"))}).observe(e,{attributes:!0,attributeFilter:["readonly","disabled"]})},number(){const e=this,t=isNaN(parseFloat(e.getAttribute("min")))?void 0:parseFloat(e.getAttribute("min")),r=isNaN(parseFloat(e.getAttribute("max")))?void 0:parseFloat(e.getAttribute("max")),n=parseFloat(e.getAttribute("step")||1),a=l.helper.get_attr_element(e,"formatter"),o=this.defaultValue,s=e.getAttribute("placeholder"),i=l.createElement("div",{class:"input"}),c=l.createForm("text",{placeholder:s,value:o&&(a?l.helper.formatNumber(o,"auto"):o)}),d=l.createElement("span",{class:"input-number-action",html:'<i class="up ph ph-caret-up"></i><i class="down ph ph-caret-down"></i>'});function u(e,t){const r=isNaN(parseFloat(e))?0:parseFloat(e);return String(r+t)}function f(e){return l.helper.formatNumber(e,"auto").toString()}function p(e,t,r){if(!a){let n=Number(e);return void 0!==r&&n>r?r.toString():void 0!==t&&n<t?t.toString():e}if("-"===e||"."===e||","===e||"-,"===e||"-."===e)return e;let n=String(e||"");n=n.replace(/[^\d\-,.]/g,""),((n.match(/-/g)||[]).length>1||n.includes("-")&&n.indexOf("-")>0)&&(n=n.replace(/-/g,""));const o=n.lastIndexOf("."),s=n.lastIndexOf(",");if(-1===o&&-1===s);else{let e=null;e=o>s?".":",";const t="."===e?/,/g:/\./g;n=n.replace(t,"");const r=n.split(e);if(r.length>1){n=r.shift()+"."+r.join("")}else n=n.replace(e,".")}if(n.endsWith(".")){const e=n.slice(0,-1),t=parseFloat(e);return(isNaN(t)?e||"":f(Math.trunc(t)))+"."}if(""===n||"-"===n)return n;const i=parseFloat(n);return isNaN(i)?n:f(void 0!==r&&i>r?r:void 0!==t&&i<t?t:i)}function h(e){return(e=String(e||"").replace(/[^\d.,]/g,"")).replace(/\./g,"").replace(",",".")}e.insertAdjacentElement("beforebegin",i),i.prepend(c,d,e),l.helper.get_attr_element(e,"readonly")&&c.setAttribute("readonly",""),l.helper.get_attr_element(e,"disabled")&&c.setAttribute("disabled",""),e.setAttribute("type","text"),e.setAttribute("shadow",!0),e.hidden=!0,e.removeAttribute("placeholder"),e.removeAttribute("step"),e.removeAttribute("min"),e.removeAttribute("max"),e.removeAttribute("formatter"),Object.defineProperty(e,"stepUp",{value:function(){const e=u(this.value,n);this.value=e,l(this).trigger("change"),c.value=p(e,t,r)}}),Object.defineProperty(e,"stepDown",{value:function(){const e=u(this.value,-n);this.value=e,l(this).trigger("change"),c.value=p(e,t,r)}}),c.addEventListener("input",function(){const n=this.value,a=h(n),o=n.split(",");if(o.length>2)return e.value=a.replace(/\,/g,""),l(e).trigger("change"),void(this.value=o.slice(0,2).join(","));const s=n.endsWith(","),i=n.endsWith("."),c=-1!==n.indexOf(",");let d=p(a,t,r);if(c&&!d.includes(",")){const e=d.lastIndexOf(".");-1!==e&&(d=d.slice(0,e)+","+d.slice(e+1))}s&&!d.endsWith(",")&&(d+=","),i&&!d.endsWith(".")&&(d+="."),e.value=h(d),l(e).trigger("change"),this.value=d}),c.addEventListener("keydown",t=>{"ArrowUp"===t.key?(t.preventDefault(),e.stepUp()):"ArrowDown"===t.key&&(t.preventDefault(),e.stepDown())}),d.addEventListener("click",t=>{t.target.classList.contains("up")?e.stepUp():t.target.classList.contains("down")&&e.stepDown()}),e.addEventListener("change",()=>c.value=e.value&&(a?l.helper.formatNumber(e.value,"auto"):e.value))},select(){const e=this,t=l.helper.expando.get(e,"attribute")||{cache:new Map,lastRequest:null},r=!!l.helper.isURL(t?.ajax?.url)&&(({callback:e,processResults:t,...r})=>({config:r,callback:e,processResults:t}))(t.ajax),n={limit:r?.config?.limit||20,offset:r?.config?.offset||0,search:"",page:1,total_pages:1,state:!1},a=l.createElement("div",{class:"input",html:'<i class="ph ph-caret-down"></i>',tabindex:0}),s=l.createElement("div",{class:"select-container"});t.placeholder=[...e.options].find(e=>!e.value?.trim())?.text;const i=function(){const t=e.options[e.selectedIndex];return{value:t.value,text:t.text}},c=function(t,n){let a=Array.from(e.options).find(e=>e.value==t.toString());a?r&&a.text!==n&&(a.textContent=n):(a=new Option(n,t),a.selected=!0,e.add(a)),a.selected=!0,d()},d=function(){let e=a.querySelector(".input-value");e||(e=l.createElement("div",{class:"input-value"}),a.prepend(e));const{value:t,text:r}=i();e.textContent=r},u=async function(){const a=`${n.search}::${n.offset}`;if(t.cache.has(a)){const e=t.cache.get(a);return e?.meta&&(n.total_pages=e.meta.total_pages||n.total_pages,n.page=e.meta.page||n.page),e.items||e}return r?await async function(){t.lastRequest&&t.lastRequest.abort();const e={...r.config,data:{..."function"==typeof r.config?.data?r.config.data():r.config?.data,limit:n.limit,offset:n.offset,search:n.search||""}};t.lastRequest=l.ajax(e);try{const e=await new Promise((e,r)=>t.lastRequest.done(e).fail(r));let o=[];return r.processResults&&"function"==typeof r.processResults?Array.isArray(e?.data)?o=e.data.map(e=>r.processResults.call(e,e)):l.helper.type(e?.data,"object")&&(o=[r.processResults.call(e.data,e.data)]):Array.isArray(e?.data)?o=e.data:Array.isArray(e)&&(o=e),n.total_pages=e?.meta?.total||1,n.page=e?.meta?.page||1,t.cache.set(a,{items:o,meta:{total_pages:n.total_pages,page:n.page}}),o}catch(e){return t.cache.set(a,{items:[],meta:{total_pages:n.total_pages,page:n.page}}),console.error(e),[]}}():await async function(){try{const r=Array.from(e.options).filter(e=>""!==e.value).map(e=>({value:e.value,text:e.textContent})),o=String(n.search||"").trim().toLowerCase(),s=o?r.filter(e=>String(e.text).toLowerCase().includes(o)||String(e.value).toLowerCase().includes(o)):r,i=s.length;n.total_pages=Math.max(1,Math.ceil(i/n.limit)),n.page=Math.floor(n.offset/n.limit)+1;const l=s.slice(n.offset,n.offset+n.limit);return t.cache.set(a,{items:l,meta:{total_pages:n.total_pages,page:n.page}}),l}catch(e){return t.cache.set(a,{items:[],meta:{total_pages:n.total_pages,page:n.page}}),console.error(e),[]}}()},f=function(e){const t=l.createElement("li",{data:{value:e.value},tabindex:0});if(!n.search)return t.innerHTML=e.text,t;const r=String(n.search).replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return t.innerHTML=String(e.text).replace(new RegExp(r,"ig"),e=>`<mark>${e}</mark>`),t},p=function(){l(this).animate({opacity:[1,0]},250).done(()=>{this.release(),l(a).css("opacity","1")})},h=function(){let d=null,h=-1;s.innerHTML="";const m=l.createElement("div",{class:"select-box-search",html:'<i class="ph ph-magnifying-glass"></i>'}),g=l.createElement("div",{class:"select-box-content"}),y=l.createForm("text",{placeholder:t.placeholder||"search..."}),b=l.createElement("div",{class:"select-results"}),v=l.createElement("div",{class:"select-spinner-scroll",html:"<span>loading...</span>"}),w=l.createElement("div",{class:"select-spinner-load",html:"<span>loading...</span>"});function E(e){const t=i();return e.getAttribute("data-value")===t.value&&e.textContent.trim()===t.text.trim()?e:null}function x(t){const r=t.target.closest("li:not(.empty)");r&&(c(r.getAttribute("data-value"),r.textContent),p.call(d),l(e).trigger("change"),a.focus())}async function k(e){b.scrollTop+b.clientHeight>=b.scrollHeight&&n.page<n.total_pages&&!n.state&&(n.offset+=n.limit,l(v).show(),await C(!1),l(v).animate({opacity:[1,0]},300).done(function(){this.hide()}))}m.append(y),s.append(m,g),g.append(b,v);const _=l.debounce(()=>{n.search=y.value.trim(),C(!0)},500);function L(e=0){const t=Array.from(b.querySelectorAll("li:not(.empty)"));if(!t.length)return;1===e?(h=Math.min(h+1,t.length-1),t[h].matches(".selected")&&(h+=1)):-1===e?(h=Math.max(h-1,0),t[h].matches(".selected")&&(h-=1)):0===e&&(h=0),t.forEach((e,t)=>e.classList.toggle("active",t===h));const r=t[h];r&&r.scrollIntoView({block:"nearest"})}function S(e){const t=e.key;if("input"===e.target.tagName.toLowerCase()&&e.target===y){if("Backspace"===t||1===t.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey)_();else if("ArrowDown"===t)e.preventDefault(),L(1);else if("ArrowUp"===t)e.preventDefault(),L(-1);else if("Enter"===t){e.preventDefault();x({target:b.querySelector("li.active")||b.querySelector("li:not(.empty)")})}}}async function C(e=!0){e&&(n.offset=0,b.innerHTML="",h=-1,b.append(w)),n.state=!0,l(y).attr("disabled",!0);const t=await u();if(e&&w.remove(),l(y).removeAttr("disabled"),y.focus(),n.state=!1,t&&0!==t.length){if(t&&0!==t.length){for(const e of t){const t=f(e);E(t)&&t.classList.add("selected"),b.appendChild(t)}return t}}else e&&(b.innerHTML='<li class="empty">no results found</li>')}b.addEventListener("click",x),b.addEventListener("scroll",k),s.addEventListener("afterRemove",function(){b.removeEventListener("click",x),b.removeEventListener("scroll",k),o.removeEventListener("keydown",S)}),o.addEventListener("keydown",S),l.layerManager.define("select2",{source:a,causeExit:["onblur","onfocus"],overlay:{backdrop:!1,matchWidth:!0,attached:!0,content:s,offsetY:-35},connected:async function(e){const t=e.target;if("init"===e.type){d=e.context,l(d).animate({opacity:[0,1]},400),n.search="",n.limit=r?.config?.limit||20,n.offset=r?.config?.offset||0,n.page=1,n.total_pages=1,n.state=!1,l(v).hide(),l(a).css("opacity","0"),await C();const t=b.querySelectorAll("li");for(const e of t)E(e)&&e.scrollIntoView()}else"click"===e.type||"escape"===e.type?(p.call(this),a.focus()):"onblur"===e.type?a.contains(t)||p.call(this):e.type}})};e.insertAdjacentElement("beforebegin",a),a.append(e),l.helper.get_attr_element(e,"readonly")&&a.setAttribute("readonly",""),l.helper.get_attr_element(e,"disabled")&&a.setAttribute("disabled",""),e.setAttribute("shadow",!0),e.hidden=!0,d(),e.addEventListener("change",async e=>{if(e?.detail?.value)if(r){if("function"==typeof r?.processResults){const t=r.callback({term:e.detail.value}),n={...r.config,data:t};delete n.callback,delete n.processResults,l.ajax(n).done(e=>{let t;if(l.helper.type(e?.data,"array"))for(const n of e.data)t=r.processResults.call(n,n);else l.helper.type(e?.data,"object")&&(t=r.processResults.call(e?.data,e?.data));t&&c(t.value,t.text)}).fail(e=>{console.error(e)})}}else c(e.detail.value)}),a.addEventListener("click",()=>h()),a.addEventListener("keydown",e=>("Enter"===e.key||"ArrowDown"===e.key)&&h());new MutationObserver(e=>{for(const t of e)"attributes"===t.type&&(l.helper.get_attr_element(t.target,"readonly")?a.setAttribute("readonly",""):a.removeAttribute("readonly"),l.helper.get_attr_element(t.target,"disabled")?a.setAttribute("disabled",""):a.removeAttribute("disabled"))}).observe(e,{attributes:!0,attributeFilter:["readonly","disabled"]})}}),l.ready(async()=>{await new Promise(e=>setTimeout(e,0));const e=i.config;!function(){const t=e._deferred.deferredInstancesList||[],n=e._deferred.deferredStaticQueue||[];let a=0;const o=e?.maxDeferredCallsPerTick||200;!function s(){let i=0;for(;n.length&&i<o;){const e=n.shift();try{const t=e.receiver||l,r=t[e.prop]||l[e.prop];"function"==typeof r&&r.apply(t,e.args)}catch(t){r.warn(`[deferred-static] error executing '${e.prop}'`,t)}i++}for(;a<t.length&&i<o;){const e=t[a],n=e._deferredQueue||[];for(;n.length&&i<o;){const t=n.shift(),a=t.receiver||e;try{const e=a[t.prop];"function"==typeof e&&e.apply(a,t.args)}catch(e){r.warn(`[deferred] error executing '${t.prop}'`,e)}i++}0===(e._deferredQueue||[]).length&&(e._deferredEnqueued=!1,e._deferredQueue=[],a++)}a<t.length||n.length>0?(window.requestIdleCallback||function(e){setTimeout(e,16)})(s):(e._deferred.deferredInstancesList=[],e._deferred.deferredStaticQueue=[])}()}()}),e.q||e.sunQuery||(e.q=e.sunQuery=l),l});